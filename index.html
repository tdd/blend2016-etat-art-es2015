<!doctype html>
<html lang="fr">

	<head>
		<meta charset="utf-8">

		<title>Ã‰tat de lâ€™art dâ€™ES2015+ dans Node.js et le navigateur â€¢ Christophe Porteneuve @ Blend Web Mix 2016</title>

		<meta name="description" content="OÃ¹ en est-on cÃ´tÃ© prise en charge nativeÂ ? Comment couvrir lâ€™Ã©cart de faÃ§on optimale, en dev comme en productionÂ ? Et ES2016, ES2017â€¦?">
		<meta name="author" content="Christophe Porteneuve">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link href='css/fonts.css' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/animate.min.css">
		<link rel="stylesheet" href="css/theme/sky.css" id="theme-basis">
		<link rel="stylesheet" href="css/theme/pw15.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/prism.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-43650325-15', 'auto');
      ga('require', 'linkid');
      ga('send', 'pageview');
    </script>
	</head>

	<body id="prioFix">

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section id="mainTitle">
					<h1>
            Ã‰tat de lâ€™art dâ€™ES2015+
            <span>dans Node.js et le navigateur</span>
          </h1>
					<p>
						<small>Une prÃ©sentation de <a href="http://tddsworld.com/">Christophe Porteneuve</a> Ã  <a href="http://www.blendwebmix.com/">Blend Web Mix 2016</a></small>
					</p>
				</section>

				<section id="whoami">
					<h2>whoami</h2>

					<pre><code data-trim class="language-js">
const christophe = {
  age:        38.99931553730322,
  family:     { wife: 'Ã‰lodie', son: 'Maxence' },
  city:       'Paris, FR',
  company:    'Delicious Insights',
  trainings:  ['JS Total', 'Node.js', 'Git Total'],
  upcoming:   ['ES2015+', 'GitHub', 'Performance Web'],
  webSince:   1995,
  claimsToFame: [
    'Prototype.js',
    'Ruby On Rails',
    'Bien DÃ©velopper pour le Web 2.0',
    'Prototype and Script.aculo.us',
    'Paris Web',
    'NodeSchool Paris'
  ]
}
          </code></pre>
				</section>

        <section data-state="theme-color-silver-green">
          <section id="naming-and-support">
            <h1>ES2015+</h1>
            <h3>gniÂ ?!</h3>
          </section>

          <section id="es2015" data-duration="01:00">
            <h2>ES6 ou ES2015Â ?</h2>

            <p>RappelÂ : ES = ECMAScript = standard officiel de JavaScript.</p>
            <br/>
            <p>Avant 2015, on disait ES6, ES7â€¦</p>
            <p>Par exemple, <strong>ES3 = 1999</strong>, ES5 = 2009, ES6 = 2015</p>
            <br/>
            <p>Mais depuis 2015, on sort une version par an (en juin).</p>
            <p>On Â«Â met la pressionÂ Â» de tenue Ã  jour en numÃ©rotant par annÃ©e.</p>
            <p>Les noms officiels sont donc dÃ©sormais ES2015, ES2016, etc.</p>
          </section>

          <section id="native-support" data-duration="03:00">
            <h2>Et si on avait besoin de rienÂ ?</h2>

            <p>La prise en charge native est bien meilleure que ce quâ€™on croit.</p>
            <ul>
              <li>Edge 14 = 93%</li>
              <li>Firefox 52 = 94%</li>
              <li>Chrome 53 / Opera 40 = 97%</li>
              <li>Safari 10 (dont iOS 10) = 100%</li>
              <li>Node 6.9 (LTS) = 99%</li>
            </ul>

            <p>Et Â«Â 90Â %Â Â» Ã§a suffit en gÃ©nÃ©ral largement ğŸ˜‰</p>
          </section>

          <section id="support-cracks" data-duration="01:30">
            <h2>OK maisâ€¦ dans la vraie vieâ€¦</h2>

            <p>Pas encore de solution propre aux modules ES2015 natifs. <br/>Vous savez ce truc qui dÃ©boÃ®teÂ :</p>

            <pre><code class="language-js" data-trim data-keep-tags="u">
<u>import React, { PropTypes } from 'react'</u>

<u>export default</u> function Gauge ({ value, max = 100 }) {
  return &lt;LinearProgress mode='determinate' value={value} max={max} /&gt;
}
            </code></pre>

            <p>IE (mÃªme 11), Firefox &lt; 45, Chrome &lt; 49, Opera &lt; 36, Safari &lt; 10, iOS &lt; 10, Node &lt 6, Android Browserâ€¦</p>
          </section>

          <section id="es2016-plus" data-duration="00:30">
            <h2>Et ES2016+, alorsÂ ?</h2>

            <p>En plus on nâ€™a parlÃ© que de ES2015 lÃ , mais on a ES2016, nonÂ ?</p>
            <p>Et lâ€™an prochain, avec ES2017 on fait quoiÂ ? Et lâ€™annÃ©e dâ€™aprÃ¨sÂ ?</p>
          </section>
        </section> <!-- #naming-and-support -->

        <section data-state="theme-color-forest-yellow">
          <section id="babel">
            <h1><img src="images/babel-logo.svg" style="background: none" width="100%" alt="BabelÂ !" title="Logo du projet Babel" /></h1>
            <h3>Ã§a roxxe des poneys</h3>
          </section>

          <section id="babel-principle" data-duration="00:30">
            <h2>Principe</h2>

            <p>TranspileurÂ : source â¡ï¸ autre source</p>
            <p>En lâ€™occurence, Â«Â autre sourceÂ Â» peut descendre jusquâ€™Ã  ES5</p>
            <p>Lâ€™idÃ©eÂ : utiliser les derniÃ¨res specs <strong>aujourdâ€™hui</strong> (du moment quâ€™elles sont transpilables).</p>
            <p>La performance nâ€™est, en pratique, pas un problÃ¨me.</p>
            <footer>(En pratique, presque tout ES2015 est transpilable, sauf les proxies)</footer>
          </section>

          <section id="babel-ecosystem" data-duration="01:00">
            <h2>Babel et lâ€™Ã©cosystÃ¨me JS</h2>

            <p>Babel est tÃ©lÃ©chargÃ© (npm) plus de 57K/jour</p>
            <p>Environ 2Â 000 modules en dÃ©pendent</p>
            <p>Quand Babel a un souci, lâ€™Ã©cosystÃ¨me JS a chaudâ€¦</p>
            <p><a href="https://babeljs.io/docs/setup/">IntÃ©grÃ© avec lâ€™univers</a> (on y reviendra)</p>
            <p>A permis lâ€™essor (enfinÂ !) dâ€™ES2015+ dans des projets de premier plan (React, Ember 2, Aurelia, JSPMâ€¦) et leurs utilisateurs (Facebook, Airbnb, Instagram, etc.)</p>
          </section>

          <section id="babel-backers" data-duration="00:30">
            <h2>PÃ©rennitÃ© de Babel</h2>

            <p>NÃ© en 2014, le bÃ©bÃ© de Sebastian McKenzie ğŸ™.</p>
            <p>DÃ©sormais 250+ contributeurs.</p>
            <p>Comme Facebook lâ€™a jugÃ© critique Ã  la mission, ils ont fait comme dâ€™habâ€™Â : on embauche le crÃ©ateur et les plus gros contributeurs, juste pour continuer.</p>
            <p>Ã‰lÃ©ment critique dâ€™infrastructure pour beaucoup de grosses boÃ®tes, et 100% FLOSS, donc on est tranquilles.</p>
            <p>On aura toujours besoin de Babel pour jouer tÃ´t avec les fonctionnalitÃ©s futures (ce qui est essentiel au processus du TC39).</p>
          </section>

          <section id="babel-cherry-pick" data-duration="00:30">
            <h2>Inutile de tout transpilerÂ !</h2>

            <p>Depuis Babel 6, on choisit les syntaxes quâ€™on veut transpiler.  Tout le reste est laissÃ© tel quel (considÃ©rÃ© natif).</p>

            <p>Plus la prise en charge native augmente, moins on a besoin de transpiler de portions de code.  On a tout intÃ©rÃªt Ã  Ã©viter lâ€™approche Â«Â bulldozerÂ Â» hors des PoC / dÃ©mos / tutos.</p>

            <p>On gagne en perfs au build (transpilation) et Ã  lâ€™exÃ©cution (code natif plutÃ´t que polyfillÃ©).</p>

            <footer>Notez toutefois que le code transpilÃ© par Babel a des performances remarquables.</footer>
          </section>

          <section id="babel-plugins" data-duration="01:00">
            <h2>Plugins</h2>
            <h3>Syntaxes et transforms</h3>

            <p>Un plugin de <strong>syntaxe</strong> permet au parser de <strong>reconnaÃ®tre</strong> une syntaxe au sein du flux JS.  Mais Babel ne la transpile pas pour autant.</p>
            <p>Un plugin de <strong>transform(ation)</strong> applique le <em>transpiling</em> correspondant pour aboutir Ã  de lâ€™ES5.  Ils exploitent automatiquement les Ã©ventuels plugins de syntaxe dont ils ont besoin.</p>
            <p>
              Mais <a href="https://babeljs.io/docs/plugins/">Ã§a fait du monde</a>Â :
              Babel propose actuellement <strong>plus de 60 transforms</strong>, dont 21 rien que pour ES2015Â !
            </p>
          </section>

          <section id="babel-presets" data-duration="01:00">
            <h2>Presets</h2>

            <p>On a donc la notion de <strong>preset</strong>Â : des groupes thÃ©matiques de plugins pour un but prÃ©cis. On en compteâ€¦</p>

            <ul>
              <li><strong>5 officiels</strong> (<tt>es2015</tt>, <tt>es2016</tt>, <tt>es2017</tt>, <strong><tt>latest</tt></strong> et <tt>react</tt>),</li>
              <li>4 expÃ©rimentaux dÃ©diÃ©s aux stades TC-39 (<tt>stage-0</tt> Ã  <tt>stage-3</tt>),</li>
              <li>et plus de <strong>750 communautairesÂ !</strong></li>
            </ul>

            <p>Par exemple, <tt>latest</tt> transpile lâ€™univers (tout ES2015+), mais les contribs ont <tt>latest-minimal</tt>, idÃ©al en Node, qui <em>feature-detect</em> point par point ğŸ˜</p>

            <p>On peut bien sÃ»r mÃ©langer presets et plugins spÃ©cifiques.</p>
          </section>

          <section id="babel-beyond-es2016" data-duration="00:30">
            <h2>Bien plus quâ€™ES2016</h2>

            <p>On lâ€™a vu, Babel gÃ¨re dÃ©jÃ  ES2016, ES2017, et les stades qui alimenteront les versions ultÃ©rieures. Par exempleÂ :</p>

            <ul>
              <li><em>object spread/rest</em> et <tt>static</tt>, qui sont au stade 2</li>
              <li>le <em>binding operator</em> qui est au stade 0</li>
            </ul>

            <p>Mais on a aussi des plugins (officielsÂ !) de syntaxes tierces (notamment JSX et les annotations Flow), de conversion de modules (ex. ES2015 â¡ï¸ CommonJS), de minification / optimisation (notamment pour React).</p>
          </section>

          <section id="babel-settings" data-duration="00:30">
            <h2>Comment je lui disÂ ?</h2>

            <p>Soit via un fichier <tt>.babelrc</tt> (marche partout)</p>
            <p>Soit via une clÃ© <code>"babel"</code> dans le <tt>package.json</tt> (si tu transpiles au sein dâ€™un script npm).</p>

            <pre><code class="language-json" data-trim>
{
  "presets": ["latest-minimal"],
  "plugins": [
    "transform-object-rest-spread", "transform-class-properties",
    "transform-function-bind"
  ]
}
            </code></pre>

            <p>Du coup il faut avoir les modulesÂ :</p>

            <pre><code class="language-bash" data-trim>
npm install --save-dev babel-preset-latest-minimal \
  babel-transform-object-rest-spread babel-transform-class-properties \
  babel-transform-function-bind
            </code></pre>
          </section>
        </section> <!-- #babel -->

        <section data-state="theme-color-blue-yellow">
          <section id="babelizing">
            <h1>Jusquâ€™oÃ¹ je Â«Â babelizeÂ Â»Â ?</h1>
          </section>

          <section id="babelize-ie9-plus" data-duration="01:00">
            <h2>CÃ´tÃ© browser (si IE9+)</h2>

            <p class="breathing">En gros, il te faut tout. IE9 a 100% dâ€™ES5 (hors le mode strict), mais 0% dâ€™ES2015. IE10 en a 3%, IE11â€¦ 11%.  Donc bon.</p>

            <pre><code class="language-js" data-trim data-keep-tags="u">
"presets": ["es2015"] // ou "latest" si tu veux E2015+
            </code></pre>
          </section>

          <section id="babelize-evergreens" data-duration="01:00">
            <h2>CÃ´tÃ© browsers (evergreens)</h2>

            <p class="breathing">Tu prends les 2 derniÃ¨res versions (faÃ§on Autoprefixer), tu examines tes besoins et la <a href="https://kangax.github.io/compat-table/es6/">table de compatibilitÃ©</a>, et tu listes ce qui manqueâ€¦  ExempleÂ :</p>

            <pre><code class="language-js" data-trim data-keep-tags="u">
"plugins": [
  "transform-es2015-parameters",
  "transform-es2015-destructuring",
  "transform-es2015-spread",
  "transform-async-to-generator",
  "transform-transform-runtime",
  "transform-regenerator"
]
            </code></pre>

            <footer>(Pour Safari, qui rame loin, jâ€™ai limitÃ© Ã  10+)</footer>
          </section>

          <section id="babelize-node4" data-duration="01:00">
            <h2>Node 4.x LTS</h2>

            <p>On a des <a href="https://github.com/jbach/babel-preset-es2015-node4">presets dÃ©diÃ©s</a>, maintenus par la communautÃ©. ExempleÂ :</p>

            <pre><code class="language-js" data-trim data-keep-tags="u">
"presets": ["es2015-node4", "es2016-node4"], // ou ["latest-minimal"]
"plugins": ["transform-regenerator"]
            </code></pre>

            <p>Mais câ€™est bon avec Node 4, lÃ â€¦  Node 6 est la nouvelle LTS et on est sur Node 7 maintenant, les gensÂ !</p>
          </section>

          <section id="babelize-node6" data-duration="01:00">
            <h2>Node 6.x LTS</h2>

            <p>Excellente prise en charge native de ES2015+ (99% depuis la 6.8), le preset communautaire est donc nettement plus lÃ©ger.</p>

            <pre><code class="language-js" data-trim data-keep-tags="u">
"presets": ["latest-node6"] // ou ["latest-minimal"]
            </code></pre>
          </section>

          <section id="babelize-electron" data-duration="01:00">
            <h2>Electron</h2>

            <p>Electron 1.4.5 est basÃ© sur Chromium 53, Node 6.5 et <strong>v8 5.3</strong>, autant dire que vous avez un gros, gros paquet dâ€™ES pris en charge en natif (quasiment tout ES2016 et diverses parties dâ€™ES2017).</p>

            <p class="breathing">Vu que le v8 est partagÃ©, la meilleure approche est sans douteÂ :</p>

            <pre><code class="language-js" data-trim data-keep-tags="u">
"presets": ["latest-minimal"]
            </code></pre>
          </section>
        </section> <!-- #babelizing -->

        <section data-state="theme-color-silver-green">
          <section id="babel-ides">
            <h3>Comment jâ€™intÃ¨gre Babel dans</h3>
            <h1>mon EDIÂ ?</h1>
          </section>

          <section id="vscode" data-duration="00:45">
            <h2>Visual Studio Code</h2>

            <pre><code class="language-bash" data-trim>
ext install vscode-babel-coloring
ext install theme-monokaiextended # meilleure diffÃ©renciation visuelle
</code></pre>

            <img src="images/babel-vscode.png" />
          </section>

          <section id="vs" data-duration="00:30">
            <h2>Visual Studio</h2>

            <p><a href="https://webtooling.visualstudio.com/languages/javascript/">ES2015 est pas mal intÃ©grÃ©</a> dans la derniÃ¨re version.</p>

            <footer>(mais vous nâ€™aurez pas dâ€™image parce que VS 2015 Community est trop gros pour mes VM Windows)</footer>
          </section>

          <section id="jetbrains" data-duration="00:45">
            <h2>JetBrains</h2>
            <h4>(IntelliJ, WebStorm, PHPStorm, etc.)</h4>

            <p>Les versions 2016 rÃ©centes (ex. <a href="https://www.jetbrains.com/webstorm/whatsnew/">WebStorm 2016.2</a>+) intÃ¨grent ES2015 en natif, ainsi que Babel comme <em>watcher</em>.</p>

            <img src="images/babel-webstorm.png" />
          </section>

          <section id="eclipse" data-duration="00:45">
            <h2>Eclipse</h2>
            <h4>#compassion</h4>

            <p>DÃ©sespÃ©rÃ©ment Ã  la rue (et lent, et lourdâ€¦) mais de valeureux membres de la communautÃ© maintiennent <a href="https://github.com/angelozerr/tern.java/wiki/Getting-Started">Tern IDE</a>, basÃ© sur lâ€™excellent <a href="http://ternjs.net/">Tern.js</a>.</p>

            <img src="images/babel-eclipse.png" />
          </section>
        </section> <!-- #babel-ides -->

        <section data-state="theme-color-forest-yellow">
          <section id="babel-editors">
            <h3>Comment jâ€™intÃ¨gre Babel dans</h3>
            <h1>mon Ã©diteurÂ ?</h1>
          </section>

          <section id="st3" data-duration="01:00">
            <h2>Sublime Text 3</h2>

            <p>Installer <a href="https://packagecontrol.io/">PackageControl</a> puis le paquet <a href="https://packagecontrol.io/packages/Babel">Babel</a> (<strong>pas</strong> le paquet ES.Next). IdÃ©alement, faire de Â«Â JavaScript (Babel)Â Â» la syntaxe par dÃ©faut pour les fichiers <tt>.js</tt>.</p>

            <img src="images/babel-st3.png" />
          </section>

          <section id="atom" data-duration="00:30">
            <h2>Atom</h2>

            <p>Bonne prise en charge en natifÂ ; nombreuses extensions possibles avec les paquets <a href="https://atom.io/packages/language-babel">language-babel</a> et <a href="https://atom.io/packages/atom-ternjs">atom-ternjs</a>.</p>

            <img src="images/babel-atom.png" />
          </section>

          <section id="brackets" data-duration="00:30">
            <h2>Brackets</h2>

            <p>Gestion correcte en natif, on aura besoin de lâ€™extension JSX si on utilise cette syntaxe complÃ©mentaire.</p>

            <img src="images/babel-brackets.png" />
          </section>

          <section id="notepadpp" data-duration="00:30">
            <h2>Notepad++</h2>

            <p>Non, je plaisante.</p>
            <p>SidÃ©rÃ© <s>quâ€™autant de</s> que des gens sâ€™en servent encoreâ€¦</p>

            <img src="images/babel-notepadpp.png" />
          </section>

          <section id="vim" data-duration="00:30">
            <h2>Vim</h2>

            <p>Ã‰videmment, on peut tout faire.</p>
            <p>
              Les trois plugins les plus utilisÃ©s sont
              <a href="https://github.com/pangloss/vim-javascript">vim-javascript</a>,
              <a href="https://github.com/mxw/vim-jsx">vim-jsx</a> et
              <a href="https://github.com/othree/es.next.syntax.vim">es.next.syntax.vim</a>.
            </p>

            <img src="images/babel-vim.png" />
          </section>

          <section id="emacs" data-duration="00:30">
            <h2>Emacs</h2>

            <p>Ã‰videmmentâ€¦ on peut tout faire.</p>
            <p>
              Manifestement, le plugin populaire est
              <a href="https://github.com/mooz/js2-mode">js2-mode</a>.
            </p>

            <img src="images/babel-emacs.png" />
          </section>
        </section> <!-- #babel-editors -->

        <section data-state="theme-color-blue-yellow">
          <section id="babel-playgrounds">
            <h3>Comment jâ€™intÃ¨gre Babel dans</h3>
            <h1>mon Ã©diteur/EDI en ligne ?</h1>
          </section>

          <section id="jsbin" data-duration="00:30">
            <h2>JSBin</h2>

            <p>Il suffit de choisir le mode ES6 / Babel (ou JSX) dans la liste de syntaxes pour le panneau JavaScript.</p>
            <p>Attention, il utilise JSHint par dÃ©faut plutÃ´t quâ€™ESLint, ce qui rend moins pratique la prise en charge dâ€™ES2015.</p>

            <img src="images/babel-jsbin.png" />
          </section>

          <section id="codepen" data-duration="00:30">
            <h2>CodePen</h2>

            <p>Il suffit de choisir Babel comme prÃ©processeur dans les rÃ©glages du panneau JavaScript.</p>

            <img src="images/babel-codepen.png" />
          </section>

          <section id="jsfiddle" data-duration="00:30">
            <h2>JSFiddle</h2>

            <p>Il suffit de choisir Babel comme langage dans les rÃ©glages du panneau JavaScript.</p>

            <img src="images/babel-jsfiddle.png" />
          </section>

          <section id="cloud9" data-duration="01:00">
            <h2>Cloud9</h2>

            <p>ES2015+ et Babel pris en charge nativement.</p>

            <img src="images/babel-c9.png" />
          </section>
        </section> <!-- #babel-playgrounds -->

        <section data-state="theme-color-silver-green">
          <section id="babel-builds">
            <h3>Comment jâ€™intÃ¨gre Babel dans</h3>
            <h1>ma chaÃ®ne de buildÂ ?</h1>
          </section>

<!--
  + (08'00") Ma chaÃ®ne de build
 -->

          <section id="browserify" data-duration="01:00">
            <h2>Browserify</h2>

            <p>Câ€™est le <em>transform</em> <a href="https://github.com/babel/babelify"><strong>babelify</strong></a> qui fait lâ€™interface. CLIÂ :</p>

            <pre class="command-line" data-prompt="$" data-output="2"><code class="language-bash" data-trim data-keep-tags="u">
npm install --save-dev babelify babel-core \
  babel-preset-latest babel-preset-react
browserify index.js -o bundle.js <u>-t babelify --presets latest react</u>
            </code></pre>

            <p class="breathing">Ou dans votre script de <em>bundling</em>Â :</p>

            <pre><code class="language-js" data-trim data-keep-tags="u">
var fs = require('fs')
var browserify = require('browserify')
browserify('./index.js')
  <u>.transform('babelify', { presets: ['latest', 'react'] })</u>
  .bundle()
  .pipe(fs.createWriteStream('bundle.js'))
            </code></pre>
          </section>

          <section id="webpack" data-duration="01:00">
            <h2>Webpack</h2>

            <p>On utilise le <a href="https://github.com/babel/babel-loader"><strong>babel-loader</strong></a>.  La config ressemble Ã  ceciÂ :</p>

            <pre><code class="language-js" data-trim data-keep-tags="u">
// â€¦
module: {
  // â€¦
  loaders: [
    // â€¦
    {
      test: /\.(?:jsx?|es6)$/,
      exclude: /(?:node_modules|bower_components)/,
      loader: 'babel',
      query: { presets: ['latest', 'react'] }
    }
    // â€¦
  ]
  // â€¦
}
            </code></pre>
          </section>

          <section id="rollup" data-duration="01:00">
            <h2>Rollup</h2>

            <p>Le plus simple, câ€™est le plugin <a href="https://github.com/rollup/rollup-plugin-babel"><strong>babel</strong></a></p>
            <pre class="command-line" data-prompt="$" data-output="2"><code class="language-bash" data-trim data-keep-tags="u">
npm install --save-dev rollup-plugin-babel <u>babel-preset-es2015-rollup</u>
            </code></pre>

            <p class="breathing">Dans la config RollupÂ :</p>

            <pre><code class="language-js" data-trim data-keep-tags="u">
import json from 'rollup-plugin-json'
<u>import babel from 'rollup-plugin-babel'</u>

export default {
  entry: './index.js',
  format: 'cjs',
  plugins: [ json()<u>, babel()</u> ],
  dest: 'bundle.js'
};
            </code></pre>

            <p>Lâ€™activation du preset se fait par un fichier <tt>.babelrc</tt>.</p>
          </section>

          <section id="gulp" data-duration="01:00">
            <h2>Gulp</h2>

            <p>Naturellement, on a <a href="https://github.com/babel/gulp-babel"><strong>gulp-babel</strong></a>.  Pour la version avec les sourcemaps, Ã§a donne un truc dans ce styleÂ :</p>

            <pre><code class="language-js" data-trim data-keep-tags="u">
var gulp = require('gulp')
var sourcemaps = require('gulp-sourcemaps')
<u>var babel = require('gulp-babel')</u>
var concat = require('gulp-concat')

gulp.task('default', function () {
  return gulp.src('src/**\/*.js')
    .pipe(sourcemaps.init())
    <u>.pipe(babel())</u>
    .pipe(concat('bundle.js'))
    .pipe(sourcemaps.write('.'))
    .pipe(gulp.dest('dist'))
})
            </code></pre>

            <p>LÃ  aussi, configuration externe par <tt>.babelrc</tt>.</p>
          </section>

          <section id="grunt" data-duration="01:00">
            <h2>Grunt</h2>

            <p>Pas de surpriseÂ : il y a <a href="https://github.com/babel/grunt-babel"><strong>grunt-babel</strong></a>.  ExempleÂ :</p>

            <pre><code class="language-js" data-trim data-keep-tags="u">
require('load-grunt-tasks')(grunt)

grunt.initConfig({
  <u>babel: {
    options: { sourceMap: true },
    dist: {
      files: { 'dist/bundle.js': 'src/**\/*.js' }
    }
  }</u>
})

grunt.registerTask('default', [<u>'babel'</u>])
            </code></pre>
            <p>Et re-configuration par <tt>.babelrc</tt>.</p>
          </section>

          <section id="other-builders" data-duration="00:15">
            <h2>Tâ€™as pas parlÃ© du mienÂ !</h2>

            <p>Moi non, mais je suis sÃ»r que <a href="http://babeljs.io/docs/setup/">Babel oui</a>.</p>
            <p>Dâ€™autant que la majoritÃ© de ces intÃ©grations sont officielles, maintenues au sein du projet Babel.</p>
          </section>
        </section> <!-- #babel-builds -->

        <section data-state="theme-color-forest-yellow">
          <section id="typescript">
            <h1>Et TypeScriptÂ ?</h1>
          </section>

          <section id="ts-vs-es" data-duration="01:30">
            <h2>TypeScript vs. ES2015+</h2>

            <p class="breathing">TS â‰ˆ ES2016 + annotations de type optionnelles (+ compat JSX)</p>
            <p>TS2 transpile vers ES5 par dÃ©faut, mais peut viser ES2015.</p>
            <p>Inclus par dÃ©faut dans VS2013u2 et ultÃ©rieurs + VSCode.</p>
            <p>Peu dâ€™infÃ©rence de typeÂ ; se repose surtout sur les annotations.</p>
            <p>Comme souvent avec IntelliSense, on a des dÃ©finitions prÃ©-compilÃ©es externes pour Ã©viter de devoir faire de lâ€™infÃ©rence profonde.  Vaste rÃ©fÃ©rentiel sur <a href="http://definitelytyped.org/">DefinitelyTyped</a>.</p>
          </section>

          <section id="ts-integration" data-duration="00:30">
            <h2>IntÃ©grer TypeScript</h2>

            <p>La documentation liste <a href="https://www.typescriptlang.org/docs/handbook/integrating-with-build-tools.html">pas mal dâ€™intÃ©gration classiques</a>Â : Browserify, Webpack, Grunt, Gulp, JSPM/Rollup, etc.</p>
            <p>En somme, Ã§a se fait bien.</p>
          </section>

          <section id="flow" data-duration="01:00">
            <h2>Un mot sur Flow</h2>

            <p>TS nâ€™est pas le seul moyen dâ€™avoir des infos de typage fines sur du code JS.  Le projet <a href="https://flowtype.org/">Flow</a>, de Facebook, est excellent.</p>

            <p class="breathing">Jâ€™ai souvent entendu que les retours de Flow Ã©taient plus utiles / efficaces que ceux de TS, mais je nâ€™ai pas comparÃ© personnellement.</p>

            <p>Notez que Babel est capable de <a href="http://babeljs.io/docs/plugins/transform-flow-comments/">lire du code annotÃ© Flow</a>, et que des outils avancÃ©s comme Tern.js savent exploiter les annotations Flow pour leur assistance au code.</p>
          </section>
        </section> <!-- #typescript -->

        <section>
          <h1>MerciÂ !</h1>
          <h3>Et que JS soit avec vous.</h3>
          <br>
          <p>Christophe Porteneuve</p>
          <p><a href="https://twitter.com/porteneuve">@porteneuve</a></p>

          <p class="breathing">
            Les slides sont sur <a href="http://bit.ly/blend-es2015">bit.ly/blend-es2015</a><br/>
          </p>
        </section>

			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
    <script src="plugin/highlight/prism.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

        width: '95%',
        height: '90%',

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
